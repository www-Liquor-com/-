# åŸºäºŽåŒé‡æ°´å°çš„äººè„¸æ·±ä¼ªç¯¡æ”¹æœ‰æ•ˆæ£€æµ‹ä¸Žèº«ä»½é«˜è´¨æ¢å¤çš„ä¸»åŠ¨å–è¯å¹³å°
# ç³»ç»Ÿä½¿ç”¨

1. æ‰“å¼€æµè§ˆå™¨è®¿é—®`iscp.roseliquor.xyz`å³å¯è¿›å…¥ç³»ç»Ÿçš„é¦–é¡µç•Œé¢ã€‚

2. å¯æ ¹æ®éœ€æ±‚è‡ªè¡Œæ³¨å†Œè´¦å·æ¥ç™»å½•ç³»ç»Ÿæˆ–è€…ä½¿ç”¨å†…ç½®ç®¡ç†å‘˜è´¦å·ï¼š

   é‚®ç®±ï¼šXXXXXXXXX

   å¯†ç ï¼šXXXXXXXXX

3. åŽç»­å°±å¯ä»¥æ ¹æ®ç³»ç»Ÿé¢æ¿æç¤ºä½¿ç”¨å„ç§åŠŸèƒ½ï¼ˆæ°´å°åµŒå…¥ï¼Œç¯¡æ”¹äººè„¸ï¼Œå®šä½æ¢å¤ç­‰ï¼‰

   **ps: **

   â€‹	**1ã€æˆ‘ä»¬æä¾›äº†æµ‹è¯•å›¾ç‰‡test_image.pngï¼Œå½“ç„¶å¯ä»¥é€‰æ‹©è‡ªè¡Œä¸Šä¼ å›¾ç‰‡ï¼Œä½†éœ€è¦å°½é‡å«æœ‰æ¸…æ™°çš„äººè„¸é¢éƒ¨ä¿¡æ¯ï¼Œå›¾ç‰‡å°½é‡é«˜å®½ç­‰ç»´å¦åˆ™å®¹æ˜“å½±å“åŽç»­æ•ˆæžœ!**

   â€‹	**2ã€ç”±äºŽæ¨¡åž‹å¤„ç†éœ€è¦ä¸€å®šæ—¶é—´ï¼Œè¯·åœ¨ä¸Šä¼ å›¾ç‰‡ç‚¹å‡»åŠŸèƒ½æŒ‰é’®åŽè€å¿ƒç­‰å¾…ç»“æžœè¿”å›žã€‚**

4. **ä½¿ç”¨è¯´æ˜Žï¼š**

   â‘  é¦–å…ˆéœ€è¦ä½¿ç”¨æ°´å°åµŒå…¥ç³»ç»Ÿæ¥åµŒå…¥æ°´å°ï¼›

   â‘¡ åµŒå…¥ç¯¡æ”¹å®šä½æ°´å°åŽï¼Œå†è¿›è¡Œä¼ªé€ æ¨¡æ‹Ÿï¼ˆå±€éƒ¨ç¼–è¾‘ï¼‰åŽï¼Œå¯ä»¥å¯¹å±€éƒ¨ç¼–è¾‘çš„åŒºåŸŸè¿›è¡Œç¯¡æ”¹å®šä½ï¼ˆå¯¹åº”ç¯¡æ”¹å®šä½ç³»ç»Ÿï¼‰

   â‘¢ åµŒå…¥èº«ä»½æ¢å¤æ°´å°åŽï¼Œå†è¿›è¡Œä¼ªé€ æ¨¡æ‹Ÿï¼ˆèº«ä»½æ›¿æ¢ï¼‰åŽï¼Œå¯ä»¥å¯¹èº«ä»½æ›¿æ¢çš„å›¾ç‰‡è¿›è¡Œèº«ä»½æ¢å¤ï¼ˆå¯¹åº”èº«ä»½æ¢å¤ç³»ç»Ÿï¼‰

   â‘£ åµŒå…¥åŒé‡æ°´å°åŽï¼Œå¯¹äºŽè¿›è¡Œä¼ªé€ æ¨¡æ‹Ÿ(å±€éƒ¨ç¼–è¾‘ã€èº«ä»½æ›¿æ¢)åŽçš„å›¾åƒï¼Œå¯ä»¥åŒæ—¶å®žçŽ°ç¯¡æ”¹å®šä½å’Œèº«ä»½æ¢å¤

5. ç³»ç»Ÿä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ï¼Œè¯·å‹¿ç”¨ä½œå…¶ä»–ä¾µæƒè¡Œä¸ºï¼å¦‚ä½¿ç”¨ä¸­é‡åˆ°ä¸€äº›é—®é¢˜ï¼ˆegï¼šç½‘ç«™ä¸ç¨³å®šï¼Œæ¨¡åž‹æœåŠ¡è°ƒç”¨å¤±è´¥ç­‰ï¼‰

   è¯·è”ç³»æˆ‘ä»¬ï¼š

   188****7326ï¼ˆå¾®ä¿¡åŒå·ï¼‰

6. æ„Ÿè°¢æ‚¨çš„ä½“éªŒï¼Œå¦‚æœ‰ç›¸å…³å¯æ”¹è¿›çš„åœ°æ–¹ä¹Ÿæ¬¢è¿Žæå‡ºå»ºè®®ï¼

# æœ¬åœ°éƒ¨ç½²

1. **åŸºç¡€çŽ¯å¢ƒé…ç½®ï¼š** 

   - æ“ä½œç³»ç»Ÿ   Microsoft Windows10åŠä»¥ä¸Š 

   - å†…å­˜  16GBåŠä»¥ä¸Š
   -  å­˜å‚¨ç©ºé—´  32GBåŠä»¥ä¸Š 
   - å›¾åƒå¤„ç†å™¨ CUDA12.6 NVIDIAGeForceRTX3050 LaptopGPUä»¥ä¸Š 
   - å…¶ä»–è½¯ä»¶é…ç½®ï¼š
     - å‰ç«¯å¼€å‘å·¥å…·VisualStudio Code 
     - åŽç«¯å¼€å‘å·¥å…·Pycharmä¸“ä¸šç‰ˆ 
     - æ•°æ®åº“ç®¡ç†å·¥å…·Navicat15.0.25 
     - æ•°æ®åº“ MySQL8.0.37 Redis2.0.14 
     - å‰ç«¯å¼€å‘æ¡†æž¶ Node20.14.0 Vue3.5.17 
     - åŽç«¯å¼€å‘æ¡†æž¶ Python3.11.9 FastAPI0.115.12 
     - æ·±åº¦å­¦ä¹ å¼€å‘æ¡†æž¶PyTorch2.7.1(CUDA12.6ç‰ˆæœ¬)

2. **åŽç«¯å¯åŠ¨** 

   - **ä¸‹è½½æºç **

     ä¸‹è½½æºä»£ç æ–‡ä»¶å¹¶è§£åŽ‹ï¼Œè¿›å…¥åˆ°code/safe-system/backendï¼Œä½¿ç”¨Pycharmæˆ–è€…VS Codeæ‰“å¼€ã€‚

   - **ä¸‹è½½æ¨¡åž‹å¹¶å¯¼å…¥** 

     æœ¬ç³»ç»Ÿæ¶‰åŠåˆ°å¤§é‡æ·±åº¦å­¦ä¹ æ¨¡åž‹ï¼Œå ç”¨ç©ºé—´è¾ƒå¤§ï¼Œå› æ­¤å·²ç»å°†é¢„è®­ç»ƒçš„æƒé‡æ–‡ä»¶ä¸Šä¼ è‡³ç™¾åº¦ç½‘ç›˜ï¼Œè¯·ä»Žç½‘ç›˜ä¸­ä¸‹è½½æ‰€æœ‰æ–‡ä»¶æ–¹é¢åŽç»­æ“ä½œï¼Œç™¾åº¦ç½‘ç›˜é“¾æŽ¥çš„å¦‚ä¸‹ï¼šhttps://pan.baidu.com/s/1JEDhbb_Q0AqcxMa7on9cCQ?pwd=**** æ ¹æ®ä¸‹é¢çš„è¡¨æ ¼ï¼Œä»Žç½‘ç›˜å†…ä¸‹è½½å„ä¸ªæ¨¡åž‹æƒé‡æ–‡ä»¶å¹¶å¯¼å…¥åˆ°åŽç«¯ç›¸åº”çš„æ–‡ä»¶å¤¹ä¸‹ã€‚

     |     ç½‘ç›˜æ–‡ä»¶å¤¹     |                æ¨¡åž‹åŠŸèƒ½è¯´æ˜Ž                 |                          åŽç«¯æ–‡ä»¶å¤¹                          |     æ¥æº      |
     | :----------------: | :-----------------------------------------: | :----------------------------------------------------------: | :-----------: |
     |      IdFMark       |            åµŒå…¥æå–èº«ä»½ç‰¹å¾æ°´å°             |              backend\ISC_Net\IdFMark\checkpoint              |    è‡ªè®­ç»ƒ     |
     |         IR         |        æ ¹æ®èº«ä»½ç‰¹å¾æ°´å°æ‰§è¡Œèº«ä»½æ¢å¤         |                backend\ISC_Net\IR\checkpoints                |    è‡ªè®­ç»ƒ     |
     |         TL         |            åµŒå…¥æå–ç¯¡æ”¹å®šä½æ°´å°             |                backend\ISC_Net\TL\checkpoints                | å¼€æº+è‡ªä¸»å¾®è°ƒ |
     |   arcface_model    |            æå–äººè„¸èº«ä»½ç‰¹å¾å‘é‡             |                backend\ISC_Net\arcface_model                 |     å¼€æº      |
     |  insightface_func  |                äººè„¸åŒºåŸŸè¯†åˆ«                 |       backend\ISC_Net\insightface_func\models\antelope       |     å¼€æº      |
     | noise_faceshif ter |       ä¼ªé€ æ¨¡æ‹Ÿâ€”â€”faceshifter æ‰€éœ€æ–‡ä»¶        |        backend\ISC_Net\Noise\faceshifter\saved_models        |     å¼€æº      |
     |   noise_simswap    |         ä¼ªé€ æ¨¡æ‹Ÿâ€”â€”simswap æ‰€éœ€æ–‡ä»¶          |       backend\ISC_Net\Noise\simswap\checkpoints\people       |     å¼€æº      |
     |   noise_infoswap   |         ä¼ªé€ æ¨¡æ‹Ÿâ€”â€”infoswap æ‰€éœ€æ–‡ä»¶         | backend\ISC_Net\Noise\infoswa p\checkpoints_512\wo_kernel_smooth |     å¼€æº      |
     |         dm         | ä¼ªé€ æ¨¡æ‹Ÿâ€”â€”stable diffusion-inpaint æ‰€éœ€æ–‡ä»¶ |                          backend\dm                          |     å¼€æº      |

3. **æ•°æ®é›†ä¸‹è½½** 

   æœ¬å¹³å°ä¸ºäº†é˜²æ­¢æ·±åº¦ä¼ªé€ æ¨¡åž‹è¢«æ¶æ„åˆ©ç”¨ï¼Œå› æ­¤æ‰€æœ‰æ·±åº¦ä¼ªé€ æ¨¡æ‹Ÿè¡Œä¸ºå‡ä¸º éšæœºï¼Œç³»ç»Ÿéœ€è¦ä¸ºæ·±åº¦ä¼ªé€ æ¨¡åž‹æä¾›æºäººè„¸æ•°æ®é›†ã€‚ç”±äºŽæ•°æ®é›†è¾ƒå¤§ï¼Œå·²ç»ä¸Šä¼  åˆ°ç™¾åº¦ç½‘ç›˜ï¼Œè¯·ä»Žç™¾åº¦ç½‘ç›˜ä¸­ä¸‹è½½deepfake_dataset.zipæ–‡ä»¶ï¼Œç™¾åº¦ç½‘ç›˜çš„é“¾æŽ¥ä¸ºï¼šhttps://pan.baidu.com/s/1JEDhbb_Q0AqcxMa7on9cCQ?pwd=****ï¼Œä»Žè¯¥é“¾æŽ¥ä¸­ä¸‹è½½ deepfake_dataset.zip æ–‡ä»¶åŽï¼Œè§£åŽ‹åˆ°åŽç«¯æ–‡ä»¶å¤¹deepfake_dataset æ–‡ä»¶å¤¹å³å¯ã€‚

4. **çŽ¯å¢ƒå®‰è£…** 

   - pytorch ç­‰å‰è¿°åŸºç¡€çŽ¯å¢ƒé…ç½®è¯·æå‰è‡ªè¡Œä»Žå®˜ç½‘ä¸‹è½½ï¼Œæ­¥éª¤ç®€å•ï¼Œä¸å†èµ˜è¿°ï¼› 
   - è¿è¡Œå‘½ä»¤ï¼špip install -r requirements.txtï¼Œå®ŒæˆåŽç«¯çŽ¯å¢ƒé…ç½®ã€‚ 

5. **æ•°æ®åº“é…ç½®** 

   - è‡ªè¡Œä¿®æ”¹backend/app/core/config.py æ–‡ä»¶å¤¹ä¸‹çš„ç”¨æˆ·åã€å¯†ç ç­‰æ•°æ®åº“é…ç½®ä¿¡æ¯ï¼Œç„¶åŽè¿è¡Œpython -m app.scripts.init_db å‘½ä»¤ï¼Œåˆå§‹åŒ–æ•°æ®åº“è¡¨ã€‚ 
   - åŽç«¯é¡¹ç›®å¯åŠ¨ è¿è¡Œå‘½ä»¤ï¼šuvicorn main: app--reloadï¼Œå³å¯å¯åŠ¨åŽç«¯é¡¹ç›®ã€‚

6. **å‰ç«¯å¯åŠ¨** 

   - ä¸‹è½½æºä»£ç æ–‡ä»¶å¹¶è§£åŽ‹ï¼Œcode/safe-system/frontendï¼Œä½¿ç”¨VSCodeæ‰“å¼€ï¼› 
   - å®‰è£…ç›¸å…³åŒ…ï¼šnpm installï¼› 
   -  å¯åŠ¨å‰ç«¯ï¼šnpm run devã€‚ 
   - è®¿é—®127.0.0.1:5173ï¼Œå³å¯ä½“éªŒé¡¹ç›®ã€‚



# äº‘ç«¯éƒ¨ç½²

åŸºäºŽAIçš„é¢éƒ¨ç¯¡æ”¹æ£€æµ‹ä¸Žå–è¯ç³»ç»Ÿ - äº‘ç«¯Webåº”ç”¨

## ðŸ—ï¸ é¡¹ç›®æž¶æž„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTPè¯·æ±‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è…¾è®¯äº‘æœåŠ¡å™¨    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   æœ¬åœ°GPUæœåŠ¡å™¨    â”‚
â”‚                 â”‚                â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚                â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”‚   å‰ç«¯Vue    â”‚â”‚                â”‚ â”‚  AIæ¨¡åž‹æŽ¨ç†   â”‚ â”‚
â”‚  â”‚   åº”ç”¨       â”‚â”‚                â”‚ â”‚  æœåŠ¡        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚                â”‚                  â”‚
â”‚  â”‚  åŽç«¯API     â”‚â”‚                â”‚                  â”‚
â”‚  â”‚  æœåŠ¡        â”‚â”‚                â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚                â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ“¦ é¡¹ç›®ç»“æž„

```
safety-system-web/
â”œâ”€â”€ frontend/                 # Vue.jså‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/                  # FastAPIåŽç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/             # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ core/            # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡åž‹
â”‚   â”‚   â””â”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ main.py              # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ requirements.txt     # Pythonä¾èµ–
â”‚   â””â”€â”€ .env                 # çŽ¯å¢ƒé…ç½®
â””â”€â”€ deploy/                  # éƒ¨ç½²é…ç½®
    â”œâ”€â”€ nginx.conf           # Nginxé…ç½®
    â””â”€â”€ deploy.sh            # éƒ¨ç½²è„šæœ¬
```

## ðŸš€ å¿«é€Ÿéƒ¨ç½²

### 1. å‡†å¤‡å·¥ä½œ

ç¡®ä¿ä½ çš„è…¾è®¯äº‘æœåŠ¡å™¨æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š
- Ubuntu 20.04+ æˆ– CentOS 7+
- 4GB+ å†…å­˜
- 20GB+ ç£ç›˜ç©ºé—´
- å·²å¼€æ”¾80ç«¯å£

### 2. ä¸Šä¼ é¡¹ç›®æ–‡ä»¶

```bash
# å°†é¡¹ç›®æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp -r safety-system-web root@your-server-ip:/opt/
```

### 3. è¿è¡Œéƒ¨ç½²è„šæœ¬

```bash
# ç™»å½•æœåŠ¡å™¨
ssh root@your-server-ip

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/safety-system-web

# ç»™éƒ¨ç½²è„šæœ¬æ‰§è¡Œæƒé™
chmod +x deploy/deploy.sh

# è¿è¡Œéƒ¨ç½²è„šæœ¬
./deploy/deploy.sh
```

### 4. é…ç½®æ¨¡åž‹æœåŠ¡å™¨åœ°å€

```bash
# ç¼–è¾‘çŽ¯å¢ƒé…ç½®æ–‡ä»¶
nano backend/.env

# ä¿®æ”¹MODEL_SERVER_URLä¸ºä½ çš„æœ¬åœ°æœåŠ¡å™¨åœ°å€
MODEL_SERVER_URL=http://your-home-ip:5001
```

### 5. é‡å¯æœåŠ¡

```bash
systemctl restart safety-system-web
```

## âš™ï¸ æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤

å¦‚æžœè‡ªåŠ¨éƒ¨ç½²è„šæœ¬å¤±è´¥ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤æ‰‹åŠ¨éƒ¨ç½²ï¼š

### 1. å®‰è£…ä¾èµ–

```bash
# æ›´æ–°ç³»ç»Ÿ
apt update && apt upgrade -y

# å®‰è£…å¿…è¦è½¯ä»¶
apt install -y nginx python3 python3-pip python3-venv nodejs npm
```

### 2. é…ç½®PythonçŽ¯å¢ƒ

```bash
# åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ
cd /opt/safety-system-web
python3 -m venv venv
source venv/bin/activate

# å®‰è£…Pythonä¾èµ–
pip install -r backend/requirements.txt
```

### 3. æž„å»ºå‰ç«¯

```bash
cd frontend
npm install
npm run build
cd ..
```

### 4. é…ç½®Nginx

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp deploy/nginx.conf /etc/nginx/sites-available/safety-system

# ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„è·¯å¾„
sed -i 's|/path/to/safety-system-web|/opt/safety-system-web|g' /etc/nginx/sites-available/safety-system
sed -i 's|/var/www/safety-system|/opt/safety-system-web/frontend/dist|g' /etc/nginx/sites-available/safety-system

# å¯ç”¨ç«™ç‚¹
ln -s /etc/nginx/sites-available/safety-system /etc/nginx/sites-enabled/
rm -f /etc/nginx/sites-enabled/default

# æµ‹è¯•é…ç½®
nginx -t

# é‡å¯Nginx
systemctl restart nginx
```

### 5. é…ç½®ç³»ç»ŸæœåŠ¡

```bash
# åˆ›å»ºsystemdæœåŠ¡æ–‡ä»¶
cat > /etc/systemd/system/safety-system-web.service << EOF
[Unit]
Description=Safety System Web API
After=network.target

[Service]
Type=exec
User=www-data
Group=www-data
WorkingDirectory=/opt/safety-system-web/backend
Environment=PATH=/opt/safety-system-web/venv/bin
ExecStart=/opt/safety-system-web/venv/bin/uvicorn main:app --host 0.0.0.0 --port 8000
Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target
EOF

# è®¾ç½®æƒé™
chown -R www-data:www-data /opt/safety-system-web

# å¯åŠ¨æœåŠ¡
systemctl daemon-reload
systemctl enable safety-system-web
systemctl start safety-system-web
```

## ðŸ”§ é…ç½®è¯´æ˜Ž

### çŽ¯å¢ƒå˜é‡é…ç½®

ç¼–è¾‘ `backend/.env` æ–‡ä»¶ï¼š

```env
# æ¨¡åž‹æœåŠ¡å™¨åœ°å€ - é‡è¦ï¼
MODEL_SERVER_URL=http://your-home-ip:5001

# JWTå¯†é’¥ - ç”Ÿäº§çŽ¯å¢ƒå¿…é¡»ä¿®æ”¹
SECRET_KEY=your-super-secret-key

# æ•°æ®åº“é…ç½®
DATABASE_URL=sqlite:///./safety_system.db

# å…¶ä»–é…ç½®...
```

### Nginxé…ç½®

ä¸»è¦é…ç½®é¡¹åœ¨ `deploy/nginx.conf`ï¼š
- é™æ€æ–‡ä»¶æœåŠ¡
- APIä»£ç†è½¬å‘
- æ–‡ä»¶ä¸Šä¼ å¤§å°é™åˆ¶
- å®‰å…¨å¤´è®¾ç½®

## ðŸ”— å†…ç½‘ç©¿é€é…ç½®

### ä½¿ç”¨FRP

1. **é…ç½®FRPå®¢æˆ·ç«¯**

   ç¼–è¾‘ `frp/frpc.toml`:

```ini
[common]
server_addr = your-frp-server.com
server_port = 7000
token = your-frp-token

[model_api]
type = http
local_ip = 127.0.0.1
local_port = 5001
custom_domains = model-api.your-domain.com
```

2. **å¯åŠ¨FRPå®¢æˆ·ç«¯**

```bash
# ä¸‹è½½FRPå®¢æˆ·ç«¯
wget https://github.com/fatedier/frp/releases/download/v0.52.3/frp_0.52.3_linux_amd64.tar.gz
tar -xzf frp_0.52.3_linux_amd64.tar.gz

# å¯åŠ¨å®¢æˆ·ç«¯
./frpc -c frp/frpc.toml
```

## ðŸ“‹ æœåŠ¡ç®¡ç†

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€

```bash
# æŸ¥çœ‹APIæœåŠ¡çŠ¶æ€
systemctl status safety-system-web

# æŸ¥çœ‹NginxçŠ¶æ€
systemctl status nginx

# æŸ¥çœ‹APIæ—¥å¿—
journalctl -u safety-system-web -f

# æŸ¥çœ‹Nginxæ—¥å¿—
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log
```

### é‡å¯æœåŠ¡

```bash
# é‡å¯APIæœåŠ¡
systemctl restart safety-system-web

# é‡å¯Nginx
systemctl restart nginx

# é‡æ–°åŠ è½½Nginxé…ç½®
nginx -s reload
```

## ðŸ” æ•…éšœæŽ’é™¤

### å¸¸è§é—®é¢˜

1. **APIæœåŠ¡å¯åŠ¨å¤±è´¥**
   
   ```bash
   # æ£€æŸ¥Pythonä¾èµ–
   source venv/bin/activate
   pip install -r backend/requirements.txt
   
   # æ£€æŸ¥é…ç½®æ–‡ä»¶
   cat backend/.env
   ```
   
2. **å‰ç«¯é¡µé¢æ— æ³•è®¿é—®**
   ```bash
   # æ£€æŸ¥Nginxé…ç½®
   nginx -t
   
   # æ£€æŸ¥æ–‡ä»¶æƒé™
   ls -la frontend/dist/
   ```

3. **æ¨¡åž‹æœåŠ¡è¿žæŽ¥å¤±è´¥**
   ```bash
   # æµ‹è¯•æ¨¡åž‹æœåŠ¡è¿žæŽ¥
   curl http://your-home-ip:5001/health
   
   # æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
   ufw status
   ```

### æ—¥å¿—åˆ†æž

```bash
# APIæœåŠ¡æ—¥å¿—
journalctl -u safety-system-web --since "1 hour ago"

# Nginxé”™è¯¯æ—¥å¿—
tail -100 /var/log/nginx/error.log

# ç³»ç»Ÿæ—¥å¿—
dmesg | tail -20
```

## ðŸ”’ å®‰å…¨å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†é’¥**
   - æ›´æ”¹ `.env` ä¸­çš„ `SECRET_KEY`
   - ä½¿ç”¨å¼ºå¯†ç ç­–ç•¥

2. **é…ç½®é˜²ç«å¢™**
   ```bash
   ufw enable
   ufw allow 22    # SSH
   ufw allow 80    # HTTP
   ufw allow 443   # HTTPS (å¦‚æžœä½¿ç”¨)
   ```

3. **å¯ç”¨HTTPS**
   - ç”³è¯·SSLè¯ä¹¦
   - é…ç½®Nginx HTTPS

4. **å®šæœŸæ›´æ–°**
   ```bash
   apt update && apt upgrade -y
   ```

## ðŸ“ž æŠ€æœ¯æ”¯æŒ

å¦‚æžœé‡åˆ°éƒ¨ç½²é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æœåŠ¡å™¨ç³»ç»Ÿè¦æ±‚
2. ç½‘ç»œè¿žæŽ¥çŠ¶æ€
3. æ¨¡åž‹æœåŠ¡å™¨é…ç½®
4. æ—¥å¿—æ–‡ä»¶å†…å®¹

---

**æ³¨æ„**: ç¡®ä¿æœ¬åœ°GPUæ¨¡åž‹æœåŠ¡æ­£å¸¸è¿è¡Œï¼Œå¦åˆ™äº‘ç«¯åº”ç”¨æ— æ³•æ­£å¸¸å·¥ä½œã€‚
